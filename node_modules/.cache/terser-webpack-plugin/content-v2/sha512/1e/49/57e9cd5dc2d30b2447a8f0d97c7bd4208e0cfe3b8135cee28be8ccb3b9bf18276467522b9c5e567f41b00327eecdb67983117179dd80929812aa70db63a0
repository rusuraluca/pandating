{"map":{"version":3,"sources":["static/js/main.b3e26937.chunk.js"],"names":["this","push","1205","module","exports","__webpack_require__","123","1234","1238","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","classCallCheck","createClass","inherits","createSuper","toConsumableArray","regenerator","regenerator_default","asyncToGenerator","lib","lib_default","faker","faker_default","Input","Button","IconButton","Badge","Videocam","Videocam_default","VideocamOff","VideocamOff_default","Mic","Mic_default","MicOff","MicOff_default","ScreenShare","ScreenShare_default","StopScreenShare","StopScreenShare_default","CallEnd","CallEnd_default","Chat","Chat_default","message","Row","Modal","connections","peerConnectionConfig","iceServers","urls","socket","socketId","elms","src_Video_0","_Component","Object","Video","_super","props","_this","call","getPermissions","a","mark","_callee","wrap","_context","prev","next","navigator","mediaDevices","getUserMedia","video","then","videoAvailable","catch","audio","audioAvailable","getDisplayMedia","setState","screenAvailable","stream","window","localStream","localVideoref","current","srcObject","e","console","log","t0","stop","getMedia","connectToSocketServer","state","getUserMediaSuccess","getTracks","forEach","track","_loop","id","addStream","createOffer","description","setLocalDescription","emit","JSON","stringify","sdp","localDescription","onended","_this2","MediaStream","black","apply","arguments","silence","blackSilence","_loop2","_id","getDislayMedia","screen","getDislayMediaSuccess","_loop3","_this3","gotMessageFromServer","fromId","signal","parse","setRemoteDescription","RTCSessionDescription","type","createAnswer","ice","addIceCandidate","RTCIceCandidate","changeCssVideos","main","minWidth","offsetWidth","height","String","width","videos","querySelectorAll","length","style","minHeight","setProperty","connect","secure","on","location","href","addMessage","document","querySelector","concat","parentNode","removeChild","getElementById","clients","socketListId","RTCPeerConnection","onicecandidate","event","candidate","onaddstream","searchVidep","cssMesure","createElement","css","maxHeight","margin","borderStyle","borderColor","objectFit","i","setAttribute","autoplay","playsinline","appendChild","undefined","_this4","_loop4","id2","ctx","AudioContext","oscillator","createOscillator","dst","createMediaStreamDestination","start","resume","assign","getAudioTracks","enabled","_ref2","_ref2$width","_ref2$height","canvas","getContext","fillRect","captureStream","getVideoTracks","handleVideo","handleAudio","handleScreen","handleEndCall","openChat","showModal","newmessages","closeChat","handleMessage","target","value","data","sender","socketIdSender","prevState","messages","handleUsername","username","sendMessage","copyUrl","text","clipboard","writeText","success","error","textArea","body","focus","select","execCommand","err","askForUsername","isChrome","userAgent","toLowerCase","vendor","test","match","createRef","internet","userName","key","_this5","background","padding","textAlign","marginTop","justifyContent","fontWeight","paddingRight","placeholder","onChange","variant","color","onClick","paddingTop","ref","autoPlay","muted","className","backgroundColor","badgeContent","max","show","onHide","zIndex","Header","closeButton","Title","Body","overflow","overflowY","map","item","index","wordBreak","Footer","disable","marginLeft","fontSize","GitHub","GitHub_default","src_Home_0","Home","handleChange","url","join","split","Math","random","toString","substring","marginBottom","react_router_dom","react_router","src_App","App","path","exact","component","Boolean","hostname","render","serviceWorker","ready","registration","unregister","154"],"mappings":"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"},"code":"(this.webpackJsonpvideo=this.webpackJsonpvideo||[]).push([[0],{1205:function(e,t,n){},123:function(e,t,n){e.exports=n(1238)},1234:function(e,t,n){},1238:function(e,t,n){\"use strict\";n.r(t);var a=n(0),o=n.n(a),i=n(13),r=n.n(i),c=n(36),l=n(37),s=n(39),d=n(38),u=n(117),m=n(65),h=n.n(m),g=n(88),f=n(89),v=n.n(f),p=n(90),w=n.n(p),y=n(1261),b=n(1257),S=n(1258),E=n(1259),k=n(106),C=n.n(k),x=n(107),M=n.n(x),O=n(109),j=n.n(O),A=n(110),D=n.n(A),T=n(111),V=n.n(T),U=n(112),N=n.n(U),W=n(108),F=n.n(W),L=n(113),R=n.n(L),J=n(1260),P=(n(1203),n(1262)),B=n(41),H=(n(1204),n(1205),{}),I={iceServers:[{urls:\"stun:stun.l.google.com:19302\"}]},z=null,q=null,G=0,Y=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getPermissions=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0}).then((function(){return a.videoAvailable=!0})).catch((function(){return a.videoAvailable=!1}));case 3:return e.next=5,navigator.mediaDevices.getUserMedia({audio:!0}).then((function(){return a.audioAvailable=!0})).catch((function(){return a.audioAvailable=!1}));case 5:navigator.mediaDevices.getDisplayMedia?a.setState({screenAvailable:!0}):a.setState({screenAvailable:!1}),(a.videoAvailable||a.audioAvailable)&&navigator.mediaDevices.getUserMedia({video:a.videoAvailable,audio:a.audioAvailable}).then((function(e){window.localStream=e,a.localVideoref.current.srcObject=e})).then((function(e){})).catch((function(e){return console.log(e)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[0,9]])}))),a.getMedia=function(){a.setState({video:a.videoAvailable,audio:a.audioAvailable},(function(){a.getUserMedia(),a.connectToSocketServer()}))},a.getUserMedia=function(){if(a.state.video&&a.videoAvailable||a.state.audio&&a.audioAvailable)navigator.mediaDevices.getUserMedia({video:a.state.video,audio:a.state.audio}).then(a.getUserMediaSuccess).then((function(e){})).catch((function(e){return console.log(e)}));else try{a.localVideoref.current.srcObject.getTracks().forEach((function(e){return e.stop()}))}catch(e){}},a.getUserMediaSuccess=function(e){try{window.localStream.getTracks().forEach((function(e){return e.stop()}))}catch(o){console.log(o)}window.localStream=e,a.localVideoref.current.srcObject=e;var t=function(e){if(e===q)return\"continue\";H[e].addStream(window.localStream),H[e].createOffer().then((function(t){H[e].setLocalDescription(t).then((function(){z.emit(\"signal\",e,JSON.stringify({sdp:H[e].localDescription}))})).catch((function(e){return console.log(e)}))}))};for(var n in H)t(n);e.getTracks().forEach((function(e){return e.onended=function(){a.setState({video:!1,audio:!1},(function(){try{a.localVideoref.current.srcObject.getTracks().forEach((function(e){return e.stop()}))}catch(o){console.log(o)}window.localStream=function(){var e;return new MediaStream([(e=a).black.apply(e,arguments),a.silence()])}(),a.localVideoref.current.srcObject=window.localStream;var e=function(e){H[e].addStream(window.localStream),H[e].createOffer().then((function(t){H[e].setLocalDescription(t).then((function(){z.emit(\"signal\",e,JSON.stringify({sdp:H[e].localDescription}))})).catch((function(e){return console.log(e)}))}))};for(var t in H)e(t)}))}}))},a.getDislayMedia=function(){a.state.screen&&navigator.mediaDevices.getDisplayMedia&&navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}).then(a.getDislayMediaSuccess).then((function(e){})).catch((function(e){return console.log(e)}))},a.getDislayMediaSuccess=function(e){try{window.localStream.getTracks().forEach((function(e){return e.stop()}))}catch(o){console.log(o)}window.localStream=e,a.localVideoref.current.srcObject=e;var t=function(e){if(e===q)return\"continue\";H[e].addStream(window.localStream),H[e].createOffer().then((function(t){H[e].setLocalDescription(t).then((function(){z.emit(\"signal\",e,JSON.stringify({sdp:H[e].localDescription}))})).catch((function(e){return console.log(e)}))}))};for(var n in H)t(n);e.getTracks().forEach((function(e){return e.onended=function(){a.setState({screen:!1},(function(){try{a.localVideoref.current.srcObject.getTracks().forEach((function(e){return e.stop()}))}catch(o){console.log(o)}window.localStream=function(){var e;return new MediaStream([(e=a).black.apply(e,arguments),a.silence()])}(),a.localVideoref.current.srcObject=window.localStream,a.getUserMedia()}))}}))},a.gotMessageFromServer=function(e,t){var n=JSON.parse(t);e!==q&&(n.sdp&&H[e].setRemoteDescription(new RTCSessionDescription(n.sdp)).then((function(){\"offer\"===n.sdp.type&&H[e].createAnswer().then((function(t){H[e].setLocalDescription(t).then((function(){z.emit(\"signal\",e,JSON.stringify({sdp:H[e].localDescription}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})),n.ice&&H[e].addIceCandidate(new RTCIceCandidate(n.ice)).catch((function(e){return console.log(e)})))},a.changeCssVideos=function(e){var t=\"30%\";30*e.offsetWidth/100<300&&(t=\"300px\");var n=String(100/G)+\"%\",a=\"\";0===G||1===G?(a=\"100%\",n=\"100%\"):2===G?(a=\"45%\",n=\"100%\"):3===G||4===G?(a=\"35%\",n=\"50%\"):a=String(100/G)+\"%\";for(var o=e.querySelectorAll(\"video\"),i=0;i<o.length;++i)o[i].style.minWidth=t,o[i].style.minHeight=\"40%\",o[i].style.setProperty(\"width\",a),o[i].style.setProperty(\"height\",n);return{minWidth:t,minHeight:\"40%\",width:a,height:n}},a.connectToSocketServer=function(){(z=v.a.connect(\"https://video.sebastienbiollo.com\",{secure:!0})).on(\"signal\",a.gotMessageFromServer),z.on(\"connect\",(function(){z.emit(\"join-call\",window.location.href),q=z.id,z.on(\"chat-message\",a.addMessage),z.on(\"user-left\",(function(e){var t=document.querySelector('[data-socket=\"'.concat(e,'\"]'));if(null!==t){G--,t.parentNode.removeChild(t);var n=document.getElementById(\"main\");a.changeCssVideos(n)}})),z.on(\"user-joined\",(function(e,t){if(t.forEach((function(e){if(H[e]=new RTCPeerConnection(I),H[e].onicecandidate=function(t){null!=t.candidate&&z.emit(\"signal\",e,JSON.stringify({ice:t.candidate}))},H[e].onaddstream=function(n){var o=document.querySelector('[data-socket=\"'.concat(e,'\"]'));if(null!==o)o.srcObject=n.stream;else{G=t.length;var i=document.getElementById(\"main\"),r=a.changeCssVideos(i),c=document.createElement(\"video\"),l={minWidth:r.minWidth,minHeight:r.minHeight,maxHeight:\"100%\",margin:\"10px\",borderStyle:\"solid\",borderColor:\"#bdbdbd\",objectFit:\"fill\"};for(var s in l)c.style[s]=l[s];c.style.setProperty(\"width\",r.width),c.style.setProperty(\"height\",r.height),c.setAttribute(\"data-socket\",e),c.srcObject=n.stream,c.autoplay=!0,c.playsinline=!0,i.appendChild(c)}},void 0!==window.localStream&&null!==window.localStream)H[e].addStream(window.localStream);else{window.localStream=function(){var e;return new MediaStream([(e=a).black.apply(e,arguments),a.silence()])}(),H[e].addStream(window.localStream)}})),e===q){var n=function(e){if(e===q)return\"continue\";try{H[e].addStream(window.localStream)}catch(t){}H[e].createOffer().then((function(t){H[e].setLocalDescription(t).then((function(){z.emit(\"signal\",e,JSON.stringify({sdp:H[e].localDescription}))})).catch((function(e){return console.log(e)}))}))};for(var o in H)n(o)}}))}))},a.silence=function(){var e=new AudioContext,t=e.createOscillator(),n=t.connect(e.createMediaStreamDestination());return t.start(),e.resume(),Object.assign(n.stream.getAudioTracks()[0],{enabled:!1})},a.black=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=void 0===t?640:t,a=e.height,o=void 0===a?480:a,i=Object.assign(document.createElement(\"canvas\"),{width:n,height:o});i.getContext(\"2d\").fillRect(0,0,n,o);var r=i.captureStream();return Object.assign(r.getVideoTracks()[0],{enabled:!1})},a.handleVideo=function(){return a.setState({video:!a.state.video},(function(){return a.getUserMedia()}))},a.handleAudio=function(){return a.setState({audio:!a.state.audio},(function(){return a.getUserMedia()}))},a.handleScreen=function(){return a.setState({screen:!a.state.screen},(function(){return a.getDislayMedia()}))},a.handleEndCall=function(){try{a.localVideoref.current.srcObject.getTracks().forEach((function(e){return e.stop()}))}catch(e){}window.location.href=\"/\"},a.openChat=function(){return a.setState({showModal:!0,newmessages:0})},a.closeChat=function(){return a.setState({showModal:!1})},a.handleMessage=function(e){return a.setState({message:e.target.value})},a.addMessage=function(e,t,n){a.setState((function(n){return{messages:[].concat(Object(u.a)(n.messages),[{sender:t,data:e}])}})),n!==q&&a.setState({newmessages:a.state.newmessages+1})},a.handleUsername=function(e){return a.setState({username:e.target.value})},a.sendMessage=function(){z.emit(\"chat-message\",a.state.message,a.state.username),a.setState({message:\"\",sender:a.state.username})},a.copyUrl=function(){var e=window.location.href;if(navigator.clipboard)navigator.clipboard.writeText(e).then((function(){J.b.success(\"Link copied to clipboard!\")}),(function(){J.b.error(\"Failed to copy\")}));else{var t=document.createElement(\"textarea\");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand(\"copy\"),J.b.success(\"Link copied to clipboard!\")}catch(n){J.b.error(\"Failed to copy\")}document.body.removeChild(t)}},a.connect=function(){return a.setState({askForUsername:!1},(function(){return a.getMedia()}))},a.isChrome=function(){var e=(navigator&&(navigator.userAgent||\"\")).toLowerCase(),t=(navigator&&(navigator.vendor||\"\")).toLowerCase();return null!==(/google inc/.test(t)?e.match(/(?:chrome|crios)\\/(\\d+)/):null)},a.localVideoref=o.a.createRef(),a.videoAvailable=!1,a.audioAvailable=!1,a.state={video:!1,audio:!1,screen:!1,showModal:!1,screenAvailable:!1,messages:[],message:\"\",newmessages:0,askForUsername:!0,username:w.a.internet.userName()},H={},a.getPermissions(),a}return Object(l.a)(n,[{key:\"render\",value:function(){var e=this;return!1===this.isChrome()?o.a.createElement(\"div\",{style:{background:\"white\",width:\"30%\",height:\"auto\",padding:\"20px\",minWidth:\"400px\",textAlign:\"center\",margin:\"auto\",marginTop:\"50px\",justifyContent:\"center\"}},o.a.createElement(\"h1\",null,\"Sorry, this works only with Google Chrome\")):o.a.createElement(\"div\",null,!0===this.state.askForUsername?o.a.createElement(\"div\",null,o.a.createElement(\"div\",{style:{background:\"white\",width:\"30%\",height:\"auto\",padding:\"20px\",minWidth:\"400px\",textAlign:\"center\",margin:\"auto\",marginTop:\"50px\",justifyContent:\"center\"}},o.a.createElement(\"p\",{style:{margin:0,fontWeight:\"bold\",paddingRight:\"50px\"}},\"Set your username\"),o.a.createElement(y.a,{placeholder:\"Username\",value:this.state.username,onChange:function(t){return e.handleUsername(t)}}),o.a.createElement(b.a,{variant:\"contained\",color:\"primary\",onClick:this.connect,style:{margin:\"20px\"}},\"Connect\")),o.a.createElement(\"div\",{style:{justifyContent:\"center\",textAlign:\"center\",paddingTop:\"40px\"}},o.a.createElement(\"video\",{id:\"my-video\",ref:this.localVideoref,autoPlay:!0,muted:!0,style:{borderStyle:\"solid\",borderColor:\"#bdbdbd\",objectFit:\"fill\",width:\"60%\",height:\"30%\"}}))):o.a.createElement(\"div\",null,o.a.createElement(\"div\",{className:\"btn-down\",style:{backgroundColor:\"whitesmoke\",color:\"whitesmoke\",textAlign:\"center\"}},o.a.createElement(S.a,{style:{color:\"#424242\"},onClick:this.handleVideo},!0===this.state.video?o.a.createElement(C.a,null):o.a.createElement(M.a,null)),o.a.createElement(S.a,{style:{color:\"#f44336\"},onClick:this.handleEndCall},o.a.createElement(F.a,null)),o.a.createElement(S.a,{style:{color:\"#424242\"},onClick:this.handleAudio},!0===this.state.audio?o.a.createElement(j.a,null):o.a.createElement(D.a,null)),!0===this.state.screenAvailable?o.a.createElement(S.a,{style:{color:\"#424242\"},onClick:this.handleScreen},!0===this.state.screen?o.a.createElement(V.a,null):o.a.createElement(N.a,null)):null,o.a.createElement(E.a,{badgeContent:this.state.newmessages,max:999,color:\"secondary\",onClick:this.openChat},o.a.createElement(S.a,{style:{color:\"#424242\"},onClick:this.openChat},o.a.createElement(R.a,null)))),o.a.createElement(B.a,{show:this.state.showModal,onHide:this.closeChat,style:{zIndex:\"999999\"}},o.a.createElement(B.a.Header,{closeButton:!0},o.a.createElement(B.a.Title,null,\"Chat Room\")),o.a.createElement(B.a.Body,{style:{overflow:\"auto\",overflowY:\"auto\",height:\"400px\",textAlign:\"left\"}},this.state.messages.length>0?this.state.messages.map((function(e,t){return o.a.createElement(\"div\",{key:t,style:{textAlign:\"left\"}},o.a.createElement(\"p\",{style:{wordBreak:\"break-all\"}},o.a.createElement(\"b\",null,e.sender),\": \",e.data))})):o.a.createElement(\"p\",null,\"No message yet\")),o.a.createElement(B.a.Footer,{className:\"div-send-msg\"},o.a.createElement(y.a,{placeholder:\"Message\",value:this.state.message,onChange:function(t){return e.handleMessage(t)}}),o.a.createElement(b.a,{variant:\"contained\",color:\"primary\",onClick:this.sendMessage},\"Send\"))),o.a.createElement(\"div\",{className:\"container\"},o.a.createElement(\"div\",{style:{paddingTop:\"20px\"}},o.a.createElement(y.a,{value:window.location.href,disable:\"true\"}),o.a.createElement(b.a,{style:{backgroundColor:\"#3f51b5\",color:\"whitesmoke\",marginLeft:\"20px\",marginTop:\"10px\",width:\"120px\",fontSize:\"10px\"},onClick:this.copyUrl},\"Copy invite link\")),o.a.createElement(P.a,{id:\"main\",className:\"flex-container\",style:{margin:0,padding:0}},o.a.createElement(\"video\",{id:\"my-video\",ref:this.localVideoref,autoPlay:!0,muted:!0,style:{borderStyle:\"solid\",borderColor:\"#bdbdbd\",margin:\"10px\",objectFit:\"fill\",width:\"100%\",height:\"100%\"}})))))}}]),n}(a.Component),$=n(114),K=n.n($),Q=(n(1234),function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChange=function(e){return a.setState({url:e.target.value})},a.join=function(){if(\"\"!==a.state.url){var e=a.state.url.split(\"/\");window.location.href=\"/\".concat(e[e.length-1])}else{e=Math.random().toString(36).substring(2,7);window.location.href=\"/\".concat(e)}},a.state={url:\"\"},a}return Object(l.a)(n,[{key:\"render\",value:function(){var e=this;return o.a.createElement(\"div\",{className:\"container2\"},o.a.createElement(\"div\",{style:{fontSize:\"14px\",background:\"white\",width:\"10%\",textAlign:\"center\",margin:\"auto\",marginBottom:\"10px\"}},\"Source code:\",o.a.createElement(S.a,{style:{color:\"black\"},onClick:function(){return window.location.href=\"https://github.com/0x5eba/Video-Meeting\"}},o.a.createElement(K.a,null))),o.a.createElement(\"div\",null,o.a.createElement(\"h1\",{style:{fontSize:\"45px\"}},\"Video Meeting\"),o.a.createElement(\"p\",{style:{fontWeight:\"200\"}},\"Video conference website that lets you stay in touch with all your friends.\")),o.a.createElement(\"div\",{style:{background:\"white\",width:\"30%\",height:\"auto\",padding:\"20px\",minWidth:\"400px\",textAlign:\"center\",margin:\"auto\",marginTop:\"100px\"}},o.a.createElement(\"p\",{style:{margin:0,fontWeight:\"bold\",paddingRight:\"50px\"}},\"Start or join a meeting\"),o.a.createElement(y.a,{placeholder:\"URL\",onChange:function(t){return e.handleChange(t)}}),o.a.createElement(b.a,{variant:\"contained\",color:\"primary\",onClick:this.join,style:{margin:\"20px\"}},\"Go\")))}}]),n}(a.Component)),X=n(115),Z=n(12),_=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:\"render\",value:function(){return o.a.createElement(\"div\",null,o.a.createElement(X.a,null,o.a.createElement(Z.c,null,o.a.createElement(Z.a,{path:\"/\",exact:!0,component:Q}),o.a.createElement(Z.a,{path:\"/:url\",component:Y}))))}}]),n}(a.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(_,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},154:function(e,t){}},[[123,1,2]]]);","extractedComments":[]}